{
  "enabled": true,
  "name": "Regex Syntax Validator",
  "description": "Automatically validates regex syntax when regex patterns are added or modified in code files",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "src/*.js",
      "public/*.js",
      "*.js",
      "*.ts",
      "*.py",
      "*.java",
      "*.cpp",
      "*.c",
      "*.cs",
      "*.php",
      "*.rb",
      "*.go"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "A regex pattern has been added or modified in the code. Please analyze the file changes and:\n\n1. Identify any new or modified regex patterns (look for patterns between forward slashes /.../ or in RegExp constructors, or string patterns used with regex methods)\n2. Validate the syntax of each regex pattern to ensure it's valid\n3. Check if the regex pattern matches the intended use case based on surrounding code context\n4. Flag any potential issues like:\n   - Invalid escape sequences\n   - Unmatched brackets or parentheses\n   - Invalid character classes\n   - Incorrect quantifiers\n   - Patterns that might not work as expected\n\nProvide specific feedback on any regex syntax issues found and suggest corrections if needed."
  }
}